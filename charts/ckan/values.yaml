global:
  imageRegistry: ""
  imagePullSecrets: []
  storageClass: ""

nameOverride: ""
fullnameOverride: ""

defaultPodSecurityContext: &defaultPodSecurityContext
  fsGroup: 1000
  runAsUser: 1000
  runAsGroup: 1000
  runAsNonRoot: true
  fsGroupChangePolicy: OnRootMismatch

defaultSecurityContext: &defaultSecurityContext
  runAsNonRoot: true
  readOnlyRootFilesystem: true
  allowPrivilegeEscalation: false
  privileged: false
  capabilities:
    drop:
      - ALL
  runAsGroup: 1000
  runAsUser: 1000

ckan:
  replicas: 1
  image:
    registry: ""
    pullPolicy: IfNotPresent
    pullSecrets: [ ]
    repository: syeklu/ckan
    tag: 0.1.0
    digest: ""
  ingress:
    className: ""
    annotations:
      kubernetes.io/tls-acme: "true"
    host: ""
  persistence:
    accessMode: ReadWriteOnce
    storageClass: ""
    size: 100Mi
  sysadmin:
    name: ""
    password: ""
    email: ""
  podSecurityContext: {}
  securityContext: {}
  resources: {}

datapusher:
  replicas: 1
  image:
    registry: ""
    pullPolicy: IfNotPresent
    pullSecrets: [ ]
    repository: ckan/ckan-base-datapusher
    tag: 0.0.20
    digest: ""
  podSecurityContext: *defaultPodSecurityContext
  securityContext: *defaultSecurityContext
  resources: {}

postgresql:
  nameOverride: "ckan-postgresql"
  enabled: true
  auth:
    postgresPassword: &postgresPassword ""
    username: ""
    password: ""
    database: ""
  ckanDbs:
    datastoreUsername: ""
    datastorePassword: ""
    datastoreDb: ""
    datapusherUsername: ""
    datapusherPassword: ""
    datapusherDb: ""
  primary:
    initdb:
      user: postgres
      password: *postgresPassword
      scriptsSecret: main-ckan-postgres-initconfig

redis:
  nameOverride: "ckan-redis"
  enabled: true
  auth:
    enabled: false
  replica:
    replicaCount: 1

solr:
  nameOverride: "ckan-solr"
  enabled: true
  image:
    registry: ""
    pullPolicy: IfNotPresent
    pullSecrets: [ ]
    repository: syeklu/ckan-solr
    tag: 0.1.0
    digest: ""
  extraEnvVars:
    - name: SOLR_CORE_CONF_DIR
      value: /opt/bitnami/solr/server/solr/configsets/ckan/conf
  coreNames:
    - ckan
  auth:
    enabled: false
    adminUsername: ""
    adminPassword: ""
  cloudEnabled: false
  cloudBootstrap: false
  collectionReplicas: 1
  replicaCount: 1
  zookeeper:
    replicaCount: 1
    nameOverride: "ckan-zookeper"