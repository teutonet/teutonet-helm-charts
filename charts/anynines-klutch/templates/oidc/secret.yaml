{{- $secretName := printf "%s-oidc" (include "common.names.fullname" .) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ $secretName }}
  namespace: {{ .Release.Namespace }}
  labels: {{- include "common.labels.standard" . | nindent 4 }}
type: Opaque
data:
  kube-bind-client-secret: {{ include "common.secrets.passwords.manage" (dict "secret" $secretName "length" 32 "strong" false "key" "kube-bind-client-secret" "failOnNew" false "context" $ "providedValues" (list)) }}
  helper-cli-client-secret: {{ include "common.secrets.passwords.manage" (dict "secret" $secretName "length" 32 "strong" false "key" "helper-cli-client-secret" "failOnNew" false "context" $ "providedValues" (list)) }}
