{{- include "t8s-cluster.helm.resourceIntoCluster" (dict "name" "storageclass-local" "resource" (include "t8s-cluster.storage.local" (dict)) "context" $ "additionalLabels" (dict "app.kubernetes.io/component" "storage")) | nindent 0 }}

{{- define "t8s-cluster.storage.local" -}}
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: local-storage
  labels: {{- include "t8s-cluster.helm.labels" (dict) | nindent 4 }}
    app.kubernetes.io/component: storage
provisioner: kubernetes.io/no-provisioner
reclaimPolicy: Delete
volumeBindingMode: WaitForFirstConsumer
{{- end -}}